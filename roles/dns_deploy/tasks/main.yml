---
# DNS Deploy Role - Main Tasks
# Deploys Unbound DNS with split-horizon views and ad blocking

- name: Validate configuration
  include_tasks: validate.yml

- name: Configure Unbound DNS with split-horizon and ad blocking
  include_tasks: configure_unbound_only.yml

- name: Configure DDNS updater (optional)
  include_tasks: ddns.yml

- name: Configure firewall rules
  include_tasks: firewall.yml
  tags: ['firewall']

- name: Verify DNS resolution
  include_tasks: verify.yml