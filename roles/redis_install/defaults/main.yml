---
# Default variables for redis_install role

redis_install_package_name: redis-server
redis_install_add_official_repo: false
redis_install_apt_repo: "https://packages.redis.io/deb"
redis_install_apt_suite: "{{ ansible_distribution_release | default('stable') }}"
redis_install_apt_components:
  - main
redis_install_repo_key_url: "https://packages.redis.io/gpg"
redis_install_repo_keyring_path: /usr/share/keyrings/redis-official-archive-keyring.gpg

redis_install_bind_addresses:
  - 127.0.0.1
  - ::1
redis_install_port: 6379
redis_install_protected_mode: true
redis_install_supervised_mode: systemd
redis_install_databases: 16

redis_install_requirepass_enabled: false
redis_install_password: ""

redis_install_save_rules:
  - "900 1"
  - "300 10"
  - "60 10000"
redis_install_appendonly: false
redis_install_appendfilename: "appendonly.aof"
redis_install_appendfsync: everysec

# Memory management
redis_install_maxmemory: "0"
redis_install_maxmemory_policy: noeviction

# Network & performance tuning
redis_install_tcp_backlog: 511
redis_install_timeout: 0
redis_install_tcp_keepalive: 300
redis_install_stop_writes_on_bgsave_error: true

# Logging
redis_install_loglevel: notice
redis_install_log_dir: /var/log/redis
redis_install_logfile: "{{ redis_install_log_dir }}/redis-server.log"

# Validation
redis_install_validate_config: true

redis_install_config_path: /etc/redis/redis.conf
redis_install_data_dir: /var/lib/redis
redis_install_user: redis
redis_install_group: redis

redis_install_service_name: redis-server
redis_install_restart_on_change: true
