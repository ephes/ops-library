---
# Django-specific defaults for python_app_django role
# These extend the defaults from python_app_systemd

# Django settings
django_settings_module: "{{ service.app.django.settings_module | default('config.settings.production') }}"

# Django operations control
django_migrate: "{{ service.app.django.migrate | default(true) }}"
django_collectstatic: "{{ service.app.django.collectstatic | default(true) }}"

# Django directories
django_cache_dir: "{{ service.app.django.cache_dir | default(service_home | default('/opt/apps/' + service.name) + '/cache') }}"
django_media_dir: "{{ service.app.django.media_dir | default('') }}"
django_log_dir: "{{ service.app.django.log_dir | default('') }}"

# Django database (for SQLite)
django_db_file: "{{ service.app.django.db_file | default('') }}"

# Service defaults (inherited from python_app_systemd but defined here for clarity)
service_user: "{{ service.app.user | default('app-' + service.name) }}"
service_group: "{{ service.app.group | default('app-' + service.name) }}"
service_home: "{{ service.app.home | default('/opt/apps/' + service.name) }}"
service_work_dir: "{{ service.rsync.dest | default(service_home + '/src') }}"
venv_path: "{{ service.app.venv | default(service_home + '/.venv') }}"

# Python environment
python_version: "{{ service.app.python_version | default('3.13.7') }}"
uv_path: "{{ service.app.uv_path | default('/usr/local/bin/uv') }}"

# Django management command timeout (in seconds)
django_command_timeout: "{{ service.app.django.command_timeout | default(300) }}"

# Django static files settings
django_static_root: "{{ service.app.django.static_root | default('') }}"
django_staticfiles_dirs: "{{ service.app.django.staticfiles_dirs | default([]) }}"