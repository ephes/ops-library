---
# Homelab deployment role defaults
# These are safe defaults that can be public
# Sensitive values should be overridden in ops-control

# User and paths
homelab_user: homelab
homelab_group: "{{ homelab_user }}"
homelab_home: /home/{{ homelab_user }}
homelab_site_path: "{{ homelab_home }}/site"
homelab_venv_path: "{{ homelab_site_path }}/.venv"
homelab_venv_bin: "{{ homelab_venv_path }}/bin"
homelab_cache_dir: "{{ homelab_site_path }}/cache"

# Source path for deployment (required)
homelab_source_path: ""  # REQUIRED - e.g., /Users/jochen/projects/homelab

# Application settings
homelab_app_port: 10010
homelab_app_host: "127.0.0.1"
homelab_workers: 4

# Django settings
homelab_django_settings_module: "config.settings.production"
homelab_django_allowed_hosts: "127.0.0.1"
homelab_django_admin_url: "admin/"
# REQUIRED - Must be provided, no default for security
# homelab_secret_key: "CHANGEME"
homelab_django_debug: false

# Database (SQLite)
homelab_database_path: "{{ homelab_site_path }}/db.sqlite3"

# Static files
homelab_static_root: "{{ homelab_site_path }}/staticfiles"

# Media files
homelab_media_root: "{{ homelab_site_path }}/media"
homelab_media_subdirs:
  - services
  - services/logos

# Python package management
homelab_use_uv: true  # Use uv for package management
homelab_uv_path: "/usr/local/bin/uv"

# Systemd service
homelab_systemd_unit_path: "/etc/systemd/system/{{ homelab_user }}.service"
homelab_service_restart_on_change: true

# Traefik configuration
homelab_traefik_enabled: true
homelab_traefik_host: "home.example.com"  # Override in ops-control
homelab_traefik_cert_resolver: letsencrypt
homelab_traefik_config_path: "/etc/traefik/dynamic/homelab.yml"

# Traefik dual router authentication
homelab_basic_auth_enabled: true
homelab_basic_auth_user: "admin"
# REQUIRED - Must be provided, no default for security
# homelab_basic_auth_password: "CHANGEME"

# Internal network IP ranges (for dual router pattern)
homelab_internal_ip_ranges:
  - "192.168.0.0/16"      # RFC1918 private
  - "10.0.0.0/8"          # RFC1918 private
  - "172.16.0.0/12"       # RFC1918 private
  - "100.64.0.0/10"       # Tailscale CGNAT
  - "fd7a:115c:a1e0::/48" # Tailscale IPv6
  - "fd50:3e45:c454:0::/64" # ULA IPv6
  - "2a02:3100:3d40:9c00::/64" # ISP IPv6 (customize per deployment)
