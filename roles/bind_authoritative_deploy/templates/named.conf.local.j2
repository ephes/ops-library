// Managed by Ansible (bind_authoritative_deploy)
{% import 'bind_macros.j2' as bind_macros %}

{% for zone in bind_zones %}
{% set zone_file = zone.file %}
{% if not zone_file.startswith('/') %}
{% set zone_file = bind_config_dir ~ '/' ~ zone.file %}
{% endif %}
zone "{{ zone.name }}" {
    type {{ zone.type | default(bind_zone_default_type) }};
    file "{{ zone_file }}";
{% if zone.allow_transfer is defined %}
    allow-transfer { {{ bind_macros.acl_list(zone.allow_transfer) }}; };
{% endif %}
{% if zone.extra_config is defined %}
{% for line in zone.extra_config %}
    {{ line }}
{% endfor %}
{% endif %}
};

{% endfor %}
